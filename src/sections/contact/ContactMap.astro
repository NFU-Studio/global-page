---
import { MapWithGoogleLink } from "@/components/features/MapWithGoogleLink";
import Typography from "@/components/ui/Typography.astro";
import { addressData } from "@/data/address";
import { MapIcon } from "lucide-react";

const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(addressData.at(0).text())}`;
---

<section class="p-rws space-y-6">
  <header class="space-y-2">
    <Typography as="h2" variant="h2l">Gdzie nas znajdziesz?</Typography>
    <Typography mw="p">
      Nasze biuro mieści się w centrum Wrocławia, z łatwym dojazdem zarówno
      samochodem, jak i komunikacją miejską. Kliknij na mapę, aby uzyskać
      wskazówki dojazdu.
    </Typography>
  </header>

  <div
    class="relative rounded-lg overflow-hidden border border-foreground/10 h-100">
    <MapWithGoogleLink client:visible />
    <a
      href={mapUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="absolute top-4 right-4 bg-background text-foreground px-4 py-2 rounded-md shadow-lg flex items-center gap-2 hover:bg-accent transition-colors text-sm font-medium z-10">
      Otwórz w Google Maps
      <MapIcon className="size-4" />
    </a>
  </div>
</section>
